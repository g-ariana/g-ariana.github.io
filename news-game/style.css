
        /* --- CSS Reset and Body --- */
        body {
            font-family: 'Inter', sans-serif;
            overscroll-behavior: none;
            background-color: #f3f4f6; /* bg-gray-100 */
            color: #111827; /* text-gray-900 */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        /* --- Game Tile Base --- */
        .game-tile {
            transition: transform 0.1s ease-in-out, background-color 0.1s ease-in-out, opacity 0.1s ease-in-out;
        }

        .tile-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        /* --- Main Layout --- */
        .main-container {
            background-color: #ffffff; /* bg-white */
            padding: 1rem; /* p-4 */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-2xl */
            position: relative;
            overflow: hidden;
            width: calc(100% - 2rem);
            max-width: 380px; /* Approx width for sm:w-20 tiles + padding */
        }

        /* --- Header --- */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem; /* mb-4 */
        }

        .header h1 {
            font-size: 1.875rem; /* text-3xl */
            line-height: 2.25rem;
            font-weight: 900; /* font-black */
            color: #b91c1c; /* text-red-700 */
        }

        .header p {
            font-size: 0.875rem; /* text-sm */
            line-height: 1.25rem;
            color: #4b5563; /* text-gray-600 */
        }

        .score-wrapper {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .score-box {
            background-color: #7f1d1d; /* bg-red-800 */
            color: #ffffff; /* text-white */
            padding: 0.5rem 1rem; /* p-2 px-4 */
            border-radius: 0.5rem; /* rounded-lg */
            text-align: center;
            margin-bottom: 0.5rem; /* space-y-2 */
        }

        .score-box span {
            font-size: 0.75rem; /* text-xs */
            font-weight: 700; /* font-bold */
            text-transform: uppercase;
            letter-spacing: 0.05em; /* tracking-wider */
        }

        .score-box div {
            font-size: 1.5rem; /* text-2xl */
            line-height: 2rem;
            font-weight: 700; /* font-bold */
        }

        .new-game-btn {
            background-color: #dc2626; /* bg-red-600 */
            color: #ffffff; /* text-white */
            padding: 0.5rem 1rem; /* py-2 px-4 */
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }

        .new-game-btn:hover {
            background-color: #b91c1c; /* hover:bg-red-700 */
        }

        /* --- Game Board --- */
        #game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem; /* gap-3 */
            background-color: #450a0a; /* bg-red-900 */
            padding: 0.75rem; /* p-3 */
            border-radius: 0.5rem; /* rounded-lg */
        }

        /* Base for all cells (empty and tiles) */
        .tile-base {
            width: 100%;
            /* Aspect ratio 1:1 */
            padding-top: 100%; 
            position: relative;
            border-radius: 0.375rem; /* rounded-md */
        }
        
        /* Container for tile content to respect aspect ratio */
        .tile-content {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.1rem; /* p-1 */
        }


        /* Empty cell background */
        .tile-empty {
            background-color: rgba(127, 29, 29, 0.5); /* bg-red-800/50 */
        }

        /* Dynamic tile base */
        .tile-dynamic {
            text-align: center;
            font-weight: 700; /* font-bold */
            transition: all 0.1s ease-in-out;
        }

        /* Tile color styles */
        .tile-0 { background-color: rgba(127, 29, 29, 0.5); }
        .tile-2 { background-color: #fee2e2; } /* bg-red-100 */
        .tile-4 { background-color: #fecaca; } /* bg-red-200 */
        .tile-8 { background-color: #fca5a5; } /* bg-red-300 */
        .tile-16 { background-color: #f87171; } /* bg-red-400 */
        .tile-32 { background-color: #ef4444; } /* bg-red-500 */
        .tile-64 { background-color: #dc2626; } /* bg-red-600 */
        .tile-128 { background-color: #b91c1c; } /* bg-red-700 */
        .tile-256 { background-color: #991b1b; } /* bg-red-800 */
        .tile-512 { background-color: #7f1d1d; } /* bg-red-900 */
        .tile-1024 { background-color: #000000; } /* bg-black */
        .tile-2048 { background-color: #facc15; } /* bg-yellow-400 */
        /* Higher values will just use 2048 style */
        .tile-4096, .tile-8192 { background-color: #facc15; }

        /* --- Modals --- */
        .modal-overlay {
            display: none; /* hidden */
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7); /* bg-black/70 */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #ffffff; /* text-white */
            padding: 1rem; /* p-4 */
            text-align: center;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-h2 {
            font-size: 2.25rem; /* text-4xl */
            line-height: 2.5rem;
            font-weight: 900; /* font-black */
        }
        .modal-h2.game-over { color: #f87171; } /* text-red-500 */
        .modal-h2.win { color: #facc15; } /* text-yellow-400 */

        .modal-p {
            font-size: 1.125rem; /* text-lg */
            line-height: 1.75rem;
            margin-top: 0.5rem; /* mt-2 */
            margin-bottom: 1rem; /* mb-4 */
        }

        .modal-btn {
            padding: 0.5rem 1.5rem; /* py-2 px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            font-size: 1.125rem; /* text-lg */
            font-weight: 600; /* font-semibold */
            transition: background-color 0.2s;
            border: none;
            cursor: pointer;
        }

        #retry-btn, #play-again-btn {
            background-color: #dc2626; /* bg-red-600 */
            color: #ffffff; /* text-white */
        }
        #retry-btn:hover, #play-again-btn:hover {
            background-color: #b91c1c; /* hover:bg-red-700 */
        }

        #keep-playing-btn {
            background-color: #4b5563; /* bg-gray-600 */
            color: #ffffff; /* text-white */
            margin-bottom: 0.5rem; /* mb-2 */
        }
        #keep-playing-btn:hover {
            background-color: #374151; /* hover:bg-gray-700 */
        }


        /* --- Responsive Styles --- */
        @media (min-width: 640px) { /* sm: */
            .main-container {
                padding: 1.5rem; /* sm:p-6 */
                max-width: 480px; /* Wider for larger screens */
            }
            .header h1 {
                font-size: 2.25rem; /* sm:text-4xl */
                line-height: 2.5rem;
            }
            #game-board {
                gap: 1rem; /* sm:gap-4 */
                padding: 1rem; /* sm:p-4 */
            }
            .tile-content {
                padding: 0.25rem; /* p-1 */
            }
        }